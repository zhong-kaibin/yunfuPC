<!DOCTYPE HTML>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><!--不使用IE兼容模式（杂项）-->
    <meta name="renderer" content="webkit"><!--默认使用极速模式，目前只有360支持，不过已经够了-->
    <meta name="viewport" content="width=device-width, initial-scale=1"><!--平板或视网膜屏100%缩放显示网页-->
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <link rel="icon" href="favicon.ico"><!--客户有需要时添加，ico图标-->
    <title>购物车</title>
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="css/lucky.css">
    <link rel="stylesheet" type="text/css" href="css/jonas.css">
    <script src="js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
</head>
<body>
<div class="header-1 black-bg">
    <div class="container header-cont-1 clearfix">
        <span class="inline-block left">您好，欢迎光临云蚨商城！</span>
        <div class="right">
            <a href="my-center.html" class="header-link-2">我的云蚨</a>
            <a href="order.html" class="header-link-2">我的订单</a>
            <div class="inline-block relative header-box">
                <a href="my-center.html" class="header-link-3">帮助中心</a>
                <ul class="abs header-list">
                    <li><a href="help-center.html">帮助中心</a></li>
                    <li><a href="return-service.html">返修/退换货</a></li>
                    <li><a href="complain-center.html">投诉中心</a></li>
                    <li><a href="advice-center.html">意见和建议</a></li>
                    <li><a href="make-appointment.html">预约</a></li>
                    <li><a href="customer-call.html">电话客服/在线客服</a></li>
                </ul>
            </div>
            <a href="javascript:void(0)" class="header-link-4" onclick="addFavorite()"><i class="star-icon"></i>收藏本站</a>
            <a href="customer-call.html" class="header-link-4"><i class="call-icon"></i>联系客服</a>
        </div>
    </div>
</div>
<div class="header-2 black-bg">
    <div class="container clearfix">
        <div class="left">
            <img src="images/lucky-img/logo.png">
        </div>
        <div class="right">
            <img src="images/lucky-img/head-phone-white.png">
        </div>
    </div>
</div>
<div class="nav-bar">
    <div class="container nav-bar-box">
        <a href="index.html">首页</a>
        <a href="shopping-car.html" class="active">购物车</a>
        <a href="my-center.html">个人中心</a>
    </div>
</div>
<div class="shopCar-container">
    <div class="container shopCar-box">
        <div class="shopCar-top">
            <span class="shopCar-title">购物车·</span>
            <span class="shopCar-tips">全部商品5</span>
        </div>
        <div class="shopCar-wrap">
            <div class="shopCar-bar-top clearfix">
                <div class="left shopCar-bar-1">
                    <input type="checkbox" value="" id="all-checkbox" class="shopCar-checkbox"><label for="all-checkbox"></label>全选
                </div>
                <div class="left shopCar-bar-2">商品信息</div>
                <div class="left shopCar-bar-3">单价</div>
                <div class="left shopCar-bar-4">数量</div>
                <div class="left shopCar-bar-5">金额</div>
                <div class="left shopCar-bar-6">操作</div>
            </div>
            <div class="shopCar-cont">
                <div class="shopCar-item clearfix">
                    <div class="left shopCar-c1">
                        <input type="checkbox" value="" id="shop-checkbox-1" class="shopCar-checkbox child-check"><label for="shop-checkbox-1"></label>
                    </div>
                    <div class="left shopCar-c2">
                        <a href="#" class="shopCar-info">
                            <img src="images/lucky-img/shop-box.png" class="shopCar-img">
                            <span class="shopCar-text">
                                <span class="shopCar-t1">油卡-大众经济版</span>
                                <div class="shopCar-t2">颜色分类：黑色边白色套</div>
                                <div class="shopCar-t3">尺寸大小：15m</div>
                            </span>
                        </a>
                    </div>
                    <div class="left shopCar-c3 unit-price">¥560.00</div>
                    <div class="left shopCar-c4">
                        <span class="shopCar-calcBox">
                            <span class="shop-calc shop-reduce">-</span>
                            <input type="text" class="shop-num" value="1">
                            <span class="shop-calc shop-add">+</span>
                        </span>
                    </div>
                    <div class="left shopCar-c5 total-price">¥560.00</div>
                    <div class="left shopCar-c6">
                        <a href="javascript:void(0)" class="shopCar-link">移入收藏夹</a>
                        <a href="javascript:void(0)" class="shopCar-link">删除</a>
                    </div>
                </div>
                <div class="shopCar-item clearfix">
                    <div class="left shopCar-c1">
                        <input type="checkbox" value="" id="shop-checkbox-2" class="shopCar-checkbox child-check"><label for="shop-checkbox-2"></label>
                    </div>
                    <div class="left shopCar-c2">
                        <a href="#" class="shopCar-info">
                            <img src="images/lucky-img/shop-box.png" class="shopCar-img">
                            <span class="shopCar-text">
                                <span class="shopCar-t1">油卡-大众经济版</span>
                                <div class="shopCar-t2">颜色分类：黑色边白色套</div>
                                <div class="shopCar-t3">尺寸大小：15m</div>
                            </span>
                        </a>
                    </div>
                    <div class="left shopCar-c3 unit-price">¥560.00</div>
                    <div class="left shopCar-c4">
                        <span class="shopCar-calcBox">
                            <span class="shop-calc shop-reduce">-</span>
                            <input type="text" class="shop-num" value="1">
                            <span class="shop-calc shop-add">+</span>
                        </span>
                    </div>
                    <div class="left shopCar-c5 total-price">¥560.00</div>
                    <div class="left shopCar-c6">
                        <a href="javascript:void(0)" class="shopCar-link">移入收藏夹</a>
                        <a href="javascript:void(0)" class="shopCar-link">删除</a>
                    </div>
                </div>
                <div class="shopCar-item clearfix">
                    <div class="left shopCar-c1">
                        <input type="checkbox" value="" id="shop-checkbox-3" class="shopCar-checkbox child-check"><label for="shop-checkbox-3"></label>
                    </div>
                    <div class="left shopCar-c2">
                        <a href="#" class="shopCar-info">
                            <img src="images/lucky-img/shop-box.png" class="shopCar-img">
                            <span class="shopCar-text">
                                <span class="shopCar-t1">油卡-大众经济版</span>
                                <div class="shopCar-t2">颜色分类：黑色边白色套</div>
                                <div class="shopCar-t3">尺寸大小：15m</div>
                            </span>
                        </a>
                    </div>
                    <div class="left shopCar-c3 unit-price">¥559.99</div>
                    <div class="left shopCar-c4">
                        <span class="shopCar-calcBox">
                            <span class="shop-calc shop-reduce">-</span>
                            <input type="text" class="shop-num" value="1">
                            <span class="shop-calc shop-add">+</span>
                        </span>
                    </div>
                    <div class="left shopCar-c5 total-price">¥559.99</div>
                    <div class="left shopCar-c6">
                        <a href="javascript:void(0)" class="shopCar-link">移入收藏夹</a>
                        <a href="javascript:void(0)" class="shopCar-link">删除</a>
                    </div>
                </div>
            </div>
            <div class="shopCar-bottom clearfix">
                <div class="left shopCar-b-left">
                    <span class="shopCar-b-choose">
                        <input type="checkbox" value="" id="all-checkbox-2" class="shopCar-checkbox">
                        <label for="all-checkbox-2"></label><span class="shopCar-b-chooseText">全选</span>
                    </span>
                    <a href="javascript:void(0)" class="shopCar-b-link">删除</a>
                    <a href="javascript:void(0)" class="shopCar-b-link">移入收藏夹</a>
                </div>
                <div class="right shopCar-b-right">
                    <span class="shopCar-b-text">已选商品<i class="shopCar-red" id="shopCar-num">0</i>件</span>
                    <span class="shopCar-b-text">合计（不含运费）：<i class="shopCar-red" id="shopCar-money">¥0.00</i></span>
                    <button type="button" class="shopCar-b-btn" disabled="disabled">去结算</button>
                </div>
            </div>
        </div>
    </div>
</div>
<footer class="j-login-footer">
    <div class="container clearfix">
        <div class="j-login-foot-1">
            <a href="#">关于我们</a>
            <a href="#">售后服务</a>
            <a href="#">联系我们</a>
            <a href="#">免责声明</a>
            <a href="#">法律声明</a>
        </div>
        <div class="j-login-foot-2">
            <span>电话：400-608-9488</span>
            <span>传真：020-87247609</span> 
            <span>E-MAIL：info@goodthree.com</span>     
            <span>广州市白云区同和街道1128号老庄村君誉商务中心一楼</span>
        </div>
        <div class="j-login-foot-3">
            <p>Copyright 2016 2017 广东云蚨贸易有限公司   粤A2-20044005号 粤ICP备15045834号-2</p>
        </div>
    </div>
</footer>
<script type="text/javascript" src="js/layer/layer.js"></script>
<script type="text/javascript">
    function calcPrice(){
        var totalPrice = new Number(0);
        $("input.child-check:checked").each(function(){
            var item = $(this).parents(".shopCar-item");
            var single = parseFloat(item.find(".total-price").text().split('¥')[1]);
            totalPrice += single;
        })
        return totalPrice.toFixed(2);
    }
    $(function(){
        $(".shop-add").on("click",function(){//点击增加数量
            var v1 = parseInt($(this).siblings(".shop-num").val());
            var v2 = v1+1;
            var max = parseInt($(this).siblings(".shop-tips").find(".rest-num").text());
            if(v2>=max){//与库存量比较
                v2 = max;
            }
            $(this).siblings(".shop-num").val(v2);
            var unit = parseFloat($(this).parents(".shopCar-c4").siblings(".unit-price").text().split('¥')[1]);
            $(this).parents(".shopCar-c4").siblings(".total-price").text("¥"+(unit*v2).toFixed(2));
            $("#shopCar-money").text('¥'+calcPrice());
        });

        $(".shop-reduce").on("click",function(){//点击减少数量
            var v1 = parseInt($(this).siblings(".shop-num").val());
            var v2 = v1-1;
            var min = 1;
            if(v2<=1){//最小为1
                v2 = min;
            }
            $(this).siblings(".shop-num").val(v2);
            var unit = parseFloat($(this).parents(".shopCar-c4").siblings(".unit-price").text().split('¥')[1]);
            $(this).parents(".shopCar-c4").siblings(".total-price").text("¥"+(unit*v2).toFixed(2));
            $("#shopCar-money").text('¥'+calcPrice());
        });

        $("#all-checkbox,#all-checkbox-2").on("change",function(){//控制全选效果
            var isChecked = $(this).prop("checked");
            var cname = this.className;
            var checkLen;
            if(isChecked){
                $("."+cname).prop("checked",true);
            }else{
                $("."+cname).prop("checked",false);
            }
            checkLen = $("input.child-check:checked").length;
            $("#shopCar-num").text(checkLen);
            $("#shopCar-money").text('¥'+calcPrice());
            if(checkLen==0){
                $(".shopCar-b-btn").attr("disabled","disabled");
            }else{
                $(".shopCar-b-btn").removeAttr("disabled");
            }
        })

        $(".child-check").on("change",function(){//控制子选项选中效果
            var len = $(".child-check").length;
            var checkLen = $("input.child-check:checked").length;
            if(checkLen==len){
                $("#all-checkbox,#all-checkbox-2").prop("checked",true);
            }else{
                $("#all-checkbox,#all-checkbox-2").prop("checked",false);
            }
            $("#shopCar-num").text(checkLen);
            $("#shopCar-money").text('¥'+calcPrice());
            if(checkLen==0){
                $(".shopCar-b-btn").attr("disabled","disabled");
            }else{
                $(".shopCar-b-btn").removeAttr("disabled");
            }
        })
    })



    
</script>
</body>
</html>